## 分布式解决方案

#### CAP(一致性 可用性 分区容错性)定律 一般选择AP（保证可用性及分区容错性 降低实时一致性 保证最终一致性）  
#### Base理论（Ba:基本可用  s：实时一致性 e：最终一致性）
	酸碱平衡

	三种方案： 
    - 异步消息确保型（消息中间件）
    - TCC事务补偿型
    - 最大努力通知型
    
    二阶段提交（2PC）
		
		系统一个节点为协调者  其余节点为参与者
		一阶段：
		协调者通知参与者是否进行提交操作  参与者返回yes.  进行提交操作   返回no 执行中止操作  （均未提交）
		二阶段：
		协调者向参与者发起提交请求  参与者所有回复为同意时  进行提交请求 并且释放所有资源 参与者完成后向协调者发送完成  
	三阶段提交(3PC)
  消息队列：
		A系统把消息传递给消息中间件持久化  消息中间件返回yes/no  A系统开始处理任务A 处理完成向消息中间件发送commit/callback
		如果是commit 消息中间件向B系统投递消息  B系统接收到消息进行处理  之后返回yes/no  
		如果是callback 消息中间件丢弃消息（消息中间件可以向A系统发送获取结果请求 设置超时时间）
    
